function headerMobile(){try{const e=document.querySelector(".g-sidebar"),t=document.querySelector("#hamburger-menu"),n=document.querySelector(".g-mobile--overlay");if(t&&window.innerWidth<1280){const o=function(){const t=document.querySelector(".g-header");t&&t.getBoundingClientRect().height;e.classList.toggle("open"),n.classList.toggle("open"),e.classList.contains("open")?document.body.style.overflow="hidden":document.body.style.overflow=""};t.removeEventListener("change",o),t.addEventListener("change",o);const i=function(){t.click()};n.addEventListener("click",i)}}catch(e){console.warn("Header mobile error:",e)}return function(){hamburgerMenu.removeEventListener("change",handleChange),bgOverlay.removeEventListener("click",handleOverlayClick)}}function initSearch(){const e=document.querySelector(".search-box input"),t=document.querySelector(".search-btn");e&&t&&(e.addEventListener("input",function(e){const t=e.target.value.toLowerCase();t.length>2&&performSearch(t)}),t.addEventListener("click",function(){const t=e.value.toLowerCase();t&&performSearch(t)}),e.addEventListener("keypress",function(e){if("Enter"===e.key){const t=e.target.value.toLowerCase();t&&performSearch(t)}}))}function performSearch(e){console.log("Searching for:",e)}function initSubmenu(){const e=document.querySelectorAll(".g-nav-menu__item--has-submenu");!function(){const e=document.querySelectorAll(".g-nav-menu__item--has-submenu.open");if(e.length>1)for(let t=1;t<e.length;t++){const n=e[t],o=n.querySelector(".g-nav-submenu");o&&(n.classList.remove("open"),o.style.maxHeight="0")}}(),e.forEach(t=>{const n=t.querySelector(".g-nav-menu__link"),o=t.querySelector(".g-nav-submenu");n&&o&&n.addEventListener("click",function(n){n.preventDefault();const i=t.classList.contains("open");t.classList.toggle("open"),t.classList.contains("open")?o.style.maxHeight=o.scrollHeight+"px":o.style.maxHeight="0",i||e.forEach(e=>{if(e!==t){const t=e.querySelector(".g-nav-submenu");t&&e.classList.contains("open")&&(e.classList.remove("open"),t.style.maxHeight="0")}})})})}document.addEventListener("DOMContentLoaded",function(){headerMobile(),initSubmenu(),initSmoothScroll(),initFixedSidebarWidget(),initCodeHighlighting()});let xDown=null,yDown=null;function handleTouchStart(e){xDown=e.touches[0].clientX,yDown=e.touches[0].clientY}function handleTouchMove(e){if(!xDown||!yDown)return;const t=e.touches[0].clientX,n=e.touches[0].clientY,o=xDown-t,i=yDown-n;if(Math.abs(o)>Math.abs(i)&&Math.abs(o)>50){const e=document.querySelector(".sidebar");o>0?e&&e.classList.contains("open")&&e.classList.remove("open"):e&&!e.classList.contains("open")&&e.classList.add("open")}xDown=null,yDown=null}function initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t)return;const n=document.querySelector(t);if(n){e.preventDefault();const o=n.offsetTop-100;window.scrollTo({top:o,behavior:"smooth"}),history.pushState(null,null,t)}})})}function initCodeHighlighting(){document.querySelectorAll("pre code").forEach(e=>{const t=document.createElement("button");t.className="copy-code-btn",t.textContent="Copy",t.addEventListener("click",function(){copyToClipboard(e.textContent),this.textContent="Copied!",setTimeout(()=>{this.textContent="Copy"},3e3)}),e.parentNode.insertBefore(t,e)})}function initFixedSidebarWidget(){try{const n=document.querySelector(".sidebar-widget.sidebar-widget--fixed");if(!n)return;const o=document.querySelector(".g-header");function e(e){let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t}let i=e(n),c=o?o.getBoundingClientRect().height:0;function t(){(window.pageYOffset||document.documentElement.scrollTop||0)+c>=i?n.classList.add("active"):n.classList.remove("active")}const r=()=>{t()},a=()=>{c=o?o.getBoundingClientRect().height:0,i=e(n),t()};window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",a),t()}catch(s){console.warn("initFixedSidebarWidget error:",s)}}function copyToClipboard(e){if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{console.log("Text copied to clipboard")}).catch(e=>{console.error("Failed to copy text: ",e)});else{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}function highlightActiveNavigation(){const e=window.location.pathname;document.querySelectorAll(".g-nav-menu__link").forEach(t=>{t.getAttribute("href")===e.split("/").pop()&&t.classList.add("active")})}function initLazyLoading(){const e=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){const t=new IntersectionObserver((e,n)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src,n.classList.remove("lazy"),t.unobserve(n)}})});e.forEach(e=>t.observe(e))}}function initKeyboardNavigation(){document.addEventListener("keydown",function(e){if((e.ctrlKey||e.metaKey)&&"k"===e.key){e.preventDefault();const t=document.querySelector(".g-search--box input");t&&t.focus()}if("Escape"===e.key){const e=document.querySelector("#hamburger-menu"),t=document.querySelector(".g-sidebar");t&&t.classList.contains("open")&&e.click()}})}function initPerformanceMonitoring(){window.addEventListener("load",function(){if("performance"in window){const e=performance.getEntriesByType("navigation")[0];console.log("Page load time:",e.loadEventEnd-e.loadEventStart,"ms")}})}document.addEventListener("DOMContentLoaded",function(){highlightActiveNavigation(),initLazyLoading(),initKeyboardNavigation(),initPerformanceMonitoring()});